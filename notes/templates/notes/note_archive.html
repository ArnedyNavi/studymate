{% extends "main/main_dashboard.html" %}

{% block title %}Note Archive{% endblock %}
{% block head %} 
{% load static %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'notes/css/note_archive.css' %}">
{% endblock %}


{% block content %}
    <div class="page">
        <a href="{% url 'upload_notes' %}"><button class="add">Upload Your Notes</button></a>
        <section class="search">
            <input type="text" class="search_notes" placeholder="Search Your Notes">
            <button type="submit" class="result">Search</button>
        </section>
        <section class="private">
            <h3>Your Private Notes</h3>
            <div id="private-notes" class="notes-container">
                {% for note in private_notes %}
                <div class="notes note-private">
                    <img src="/media/{{note.thumbnail}}">
                    <input class="notes-id" type="hidden" value="{{note.id}}">
                    <div class="action">
                        <input type="hidden" class="notes-is-private" value="true">
                        <div class="edit"><i class="fa fa-pencil"></i></div>
                        <div class="delete"><i class="fa fa-trash-o"></i></div>
                    </div>
                    <h4>{{note.title}}</h4>
                </div>
                {% endfor %}
                {% if private_notes|length == 0 %} 
                <div class="no-notes">You have no private notes</div>
                {% endif %}
            </div>
            {% if more_private %}
            <div id="more-private" class="more">Load more</div>
            {% endif %}
            <div id="loader-private" class="loader"></div>
        </section>
        <section class="public">
            <h3>Your Shared Notes</h3>
            <div id="public-notes" class="notes-container">
                {% for note in public_notes %}
                <div class="notes note-public">
                    <img src="/media/{{note.thumbnail}}">
                    <input class="notes-id" type="hidden" value="{{note.id}}">
                    <div class="action">
                        <input type="hidden" class="notes-is-private" value="false">
                        <div class="edit"><i class="fa fa-pencil"></i></div>
                        <div class="delete"><i class="fa fa-trash-o"></i></div>
                    </div>
                    <h4>{{note.title}}</h4>
                </div>
                {% endfor %}
                {% if public_notes|length == 0 %} 
                <div class="no-notes">You have no public notes</div>
                {% endif %}
            </div>
            {% if more_public %}
            <button id="more-public" class="more">Load more</button>
            {% endif %}
            <div id="loader-public" class="loader"></div>
        </section>
    </div>
    <div class="confirm-delete">
        <div class="confirm-box">
            <div class="confirm-text">Are you sure want to delete this note?</div>
            <div class="button-action">
                <button class="delete-confirm">Delete</button>
                <button class="cancel-confirm">Cancel</button>
            </div>
        </div>
    </div>
{% endblock %}
{% block ending %} 
<script type="text/javascript">
    let url = "{% url 'get_archive' %}"
    let url_delete = "{% url 'delete_notes' %}"
    let token = "{{csrf_token}}"
</script>
<script type="module" src="{% static 'notes/js/note_archive.js' %}"></script>
<script type="text/html">
</script>
{% endblock %}